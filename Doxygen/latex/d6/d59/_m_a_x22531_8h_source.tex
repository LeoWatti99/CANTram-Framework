\doxysection{MAX22531.\+h}
\hypertarget{_m_a_x22531_8h_source}{}\label{_m_a_x22531_8h_source}\index{C:/Users/leowa/Documents/PlatformIO/Projects/CANTramFrameworkUsage/lib/CANTramFramework/include/MAX22531.h@{C:/Users/leowa/Documents/PlatformIO/Projects/CANTramFrameworkUsage/lib/CANTramFramework/include/MAX22531.h}}
\mbox{\hyperlink{_m_a_x22531_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#ifndef\ MAX22531\_H}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#define\ MAX22531\_H}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <Arduino.h>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <SPI.h>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}MAX22531\_registers.h"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}SPIChip.h"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_debug_8h}{Debug.h}}"{}}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_m_a_x22531_a7fbb56231b7cf88e4645fe3a85c28d0b}{MAX22531}}\ :\ \textcolor{keyword}{public}\ SPIChip}
\DoxyCodeLine{00023\ \{}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_m_a_x22531_1_1_burst_response}{BurstResponse}}\{}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ uint8\_t\ status;}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ uint16\_t\ adc1;}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ uint16\_t\ adc2;}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ uint16\_t\ adc3;}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ uint16\_t\ adc4;}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ uint16\_t\ interrupt;}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ uint8\_t\ crc;}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ filtered;}
\DoxyCodeLine{00034\ \ \ \ \ \};}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keyword}{enum}\ ERROR\_CODES\{}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ STATUS\_OK\ =\ 0,}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ INVALID\_CHANNEL\ =\ 10,}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ INVALID\_REGISTER\ =\ 20,}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ NULL\_POINTER\ =\ 30,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00042\ \ \ \ \ \};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_m_a_x22531_a7fbb56231b7cf88e4645fe3a85c28d0b}{MAX22531}}(uint8\_t\ csPin,\ uint8\_t\ intPin);}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_m_a_x22531_a7fbb56231b7cf88e4645fe3a85c28d0b}{MAX22531}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_m_a_x22531}{\string~MAX22531}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_m_a_x22531_adbe1e2d33ed92cd35eb9268912e832ac}{begin}}();}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ uint8\_t\ \mbox{\hyperlink{class_m_a_x22531_ac1478352d019d569c797a91def4a1e67}{writeRegister}}(uint8\_t\ address,\ uint16\_t\ data);}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ uint16\_t\ \mbox{\hyperlink{class_m_a_x22531_a5711a7d5588204fa3a09d580c7f7e7e9}{readRegister}}(uint8\_t\ address,\ uint16\_t*\ data\ =\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ BurstResponse\ \mbox{\hyperlink{class_m_a_x22531_a344e5f8b852eaa9a4f254ccc481b2a37}{burstRead}}(\textcolor{keywordtype}{bool}\ filtered\ =\ \textcolor{keyword}{true});}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ uint16\_t\ \mbox{\hyperlink{class_m_a_x22531_af97b1c8acd34114f7c4474e7e62d66d4}{readChannel}}(uint8\_t\ channel,\ uint16\_t*\ data\ =\ \textcolor{keyword}{nullptr},\ \textcolor{keywordtype}{bool}\ filtered\ =\ \textcolor{keyword}{true});}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ BurstResponse\ \mbox{\hyperlink{class_m_a_x22531_a3e854b36095768c42cd6ffb1d8445a80}{readAllChannels}}();}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ uint8\_t\ \mbox{\hyperlink{class_m_a_x22531_ae6a21ef931f021030bdd7d2566489ed1}{HWreset}}();\ \ }
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00056\ \ \ \ \ }
\DoxyCodeLine{00057\ \ \ \ \ SPISettings\ \_spiSettings\ =\ SPISettings(1000000,\ MSBFIRST,\ SPI\_MODE0);}
\DoxyCodeLine{00058\ \ \ \ \ uint8\_t\ resetPORFlag();}
\DoxyCodeLine{00059\ \ \ \ \ int8\_t\ \_intPin\ =\ -\/1;}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordtype}{bool}\ useInt;}
\DoxyCodeLine{00061\ \ \ \ \ uint8\_t\ calculateCRC(uint8\_t\ *data,\ uint8\_t\ length);}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint8\_t\ MAX\_START\_ATTEMPTS\ =\ 5;}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint16\_t\ START\_RETRY\_DELAY\_MS\ =\ 1000;}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
