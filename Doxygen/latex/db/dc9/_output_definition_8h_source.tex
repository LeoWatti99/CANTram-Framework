\doxysection{Output\+Definition.\+h}
\hypertarget{_output_definition_8h_source}{}\label{_output_definition_8h_source}\index{C:/Users/leowa/Documents/PlatformIO/Projects/CANTramFrameworkUsage/lib/CANTramFramework/include/OutputDefinition.h@{C:/Users/leowa/Documents/PlatformIO/Projects/CANTramFrameworkUsage/lib/CANTramFramework/include/OutputDefinition.h}}
\mbox{\hyperlink{_output_definition_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ OUTPUTDEFINITION\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ OUTPUTDEFINITION\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <Arduino.h>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_debug_8h}{Debug.h}}"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_output_provider}{OutputProvider}};\ \textcolor{comment}{//\ Forward\ declaration\ \ \ \ }}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_output_definition_ae4dfe2a4713871cfa51c8acfbf3d8806}{OutputDefinition}}\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition_ae4dfe2a4713871cfa51c8acfbf3d8806}{OutputDefinition}}(\textcolor{keywordtype}{bool}\ isShift,\ uint8\_t\ pinOrBit,\ \textcolor{keywordtype}{bool}\ adc,\ \textcolor{keywordtype}{bool}\ pwm,\ \textcolor{keywordtype}{bool}\ inputOnly,\ \mbox{\hyperlink{class_output_provider}{OutputProvider}}*\ provider)\ :}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ isShift(isShift),\ pinOrBit(pinOrBit),\ adc(adc),\ pwm(pwm),\ inputOnly(inputOnly),\ provider(provider)}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keyword}{enum}\ ConfigurationMode\ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ MODE\_INPUT,}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ MODE\_OUTPUT,}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ MODE\_PWM,}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ MODE\_INPUT\_PULLUP,}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ MODE\_NONE}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ String\ ConfigurationModeToString(ConfigurationMode\ mode)\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}(mode)\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ MODE\_INPUT:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}INPUT"{}};}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ MODE\_OUTPUT:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}OUTPUT"{}};}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ MODE\_PWM:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}PWM"{}};}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ MODE\_INPUT\_PULLUP:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}INPUT\_PULLUP"{}};}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ MODE\_NONE:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}NONE"{}};}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}UNKNOWN"{}};}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ isShift;}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint8\_t\ pinOrBit;}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ adc;}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ pwm;}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ inputOnly;}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ ConfigurationMode\ mode\ =\ MODE\_NONE;\ \textcolor{comment}{//default\ to\ output\ mode}}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ OutputProvider*\ provider;}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ initialValue\ =\ LOW;}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ String\ \mbox{\hyperlink{class_output_definition_a64751373cfe44aba6a60b2a2ad276710}{toString}}()\ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ String(\textcolor{stringliteral}{"{}OutputDefinition(isShift="{}})\ +\ (isShift\ ?\ \textcolor{stringliteral}{"{}true"{}}\ :\ \textcolor{stringliteral}{"{}false"{}})\ +}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{},\ pinOrBit="{}}\ +\ String(pinOrBit)\ +}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{},\ adc="{}}\ +\ (adc\ ?\ \textcolor{stringliteral}{"{}true"{}}\ :\ \textcolor{stringliteral}{"{}false"{}})\ +}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{},\ pwm="{}}\ +\ (pwm\ ?\ \textcolor{stringliteral}{"{}true"{}}\ :\ \textcolor{stringliteral}{"{}false"{}})\ +}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{},\ inputOnly="{}}\ +\ (inputOnly\ ?\ \textcolor{stringliteral}{"{}true"{}}\ :\ \textcolor{stringliteral}{"{}false"{}})\ +\ \textcolor{stringliteral}{"{})"{}};}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00081\ \};}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00089\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_output_provider}{OutputProvider}}\ \{}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_output_provider_abcb5e82617e9b6aa348290ea77319936}{configureOutput}}(\mbox{\hyperlink{class_output_definition}{OutputDefinition}}*\ def,\ OutputDefinition::ConfigurationMode\ mode)\ =\ 0;}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_output_provider_aafd6e27985454618ea1b21a88f1b4ea3}{setOutput}}(\mbox{\hyperlink{class_output_definition}{OutputDefinition}}*\ def,\ \textcolor{keywordtype}{bool}\ state)\ =\ 0;\ \textcolor{comment}{//Returns\ true\ if\ successful}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_output_provider_aefcacb21da3e89066b57ae27690549bf}{getOutput}}(\mbox{\hyperlink{class_output_definition}{OutputDefinition}}*\ def)\ =\ 0;\ \textcolor{comment}{//Returns\ current\ state}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_output_provider_aa30505769d3096bf35c097c23b762ea2}{enableOutputs}}(\textcolor{keywordtype}{bool}\ state=\textcolor{keyword}{true})\{\ \ \ \ \textcolor{comment}{//Append\ this\ method\ in\ derived\ classes\ to\ actually\ enable\ the\ outputs}}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(state\ ==\ outputsEnabled)\{\ \ \ \ \textcolor{comment}{//If\ state\ is\ already\ as\ requested,\ do\ nothing}}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ outputsEnabled\ =\ state;}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_debug_8h_a693063ba84ad2119e7f3ea1b97947055}{INFO\_PRINTLN}}(\textcolor{stringliteral}{"{}[OutputProvider]\ Outputs\ enabled\ set\ to:\ "{}}\ +\ String(state));\ }
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_output_provider_ad7ca75c757ecd3411bb00e7631527051}{disableOutputs}}()\{}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_provider_aa30505769d3096bf35c097c23b762ea2}{enableOutputs}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ outputsEnabled\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00141\ \ \ \ \ \};}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00148\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_p_w_m_output_provider}{PWMOutputProvider}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_output_provider}{OutputProvider}}\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_p_w_m_output_provider_a8bee55eeda0ec8908389443cb0b47ac4}{setPWM}}(\mbox{\hyperlink{class_output_definition}{OutputDefinition}}*\ def,\ uint16\_t\ value)\ =\ 0;\ \textcolor{comment}{//Returns\ true\ if\ successful}}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_p_w_m_output_provider_a61998be15a228bbd6f0d6b179aca623b}{registerPWMChannel}}(\mbox{\hyperlink{class_output_definition}{OutputDefinition}}*\ def)\ =\ 0;\ \textcolor{comment}{//Returns\ true\ if\ successful}}
\DoxyCodeLine{00167\ \};}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
