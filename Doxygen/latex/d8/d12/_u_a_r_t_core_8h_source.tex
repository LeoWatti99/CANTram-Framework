\doxysection{UARTCore.\+h}
\hypertarget{_u_a_r_t_core_8h_source}{}\label{_u_a_r_t_core_8h_source}\index{C:/Users/leowa/Documents/PlatformIO/Projects/CANTramFrameworkUsage/lib/CANTramFramework/include/UARTCore.h@{C:/Users/leowa/Documents/PlatformIO/Projects/CANTramFrameworkUsage/lib/CANTramFramework/include/UARTCore.h}}
\mbox{\hyperlink{_u_a_r_t_core_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ UART\_CORE\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ UART\_CORE\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{comment}{//\#include\ "{}UARTInterface.h"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_c_a_n_tram_core_8h}{CANTramCore.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_hardware_resource_8h}{HardwareResource.h}}"{}}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_u_a_r_t_core}{UARTCore}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_hardware_resource_a7ddffb890a743f2df28128d9afd5bfa5}{HardwareResource}}\ \{}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{class_u_a_r_t_core_a1895842f7c33678bdf154e12cc617903}{DataBits}}\{}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ UART\_DATA\_5\_BITS\ =\ 0,}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ UART\_DATA\_6\_BITS\ =\ 1,}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ UART\_DATA\_7\_BITS\ =\ 2,}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ UART\_DATA\_8\_BITS\ =\ 3}
\DoxyCodeLine{00033\ \ \ \ \ \};}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{class_u_a_r_t_core_a53addcd39a841913c86bd7e25cca94a0}{Parity}}\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ UART\_PARITY\_NONE\ =\ 0,}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ UART\_PARITY\_EVEN\ =\ 1,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ UART\_PARITY\_ODD\ \ =\ 2}
\DoxyCodeLine{00042\ \ \ \ \ \};}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{class_u_a_r_t_core_ab88ed673e8897a7804c27ac7d749f00b}{StopBits}}\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ UART\_STOP\_BITS\_1\ \ \ =\ 1,}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ UART\_STOP\_BITS\_1\_5\ =\ 2,}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ UART\_STOP\_BITS\_2\ \ \ =\ 3}
\DoxyCodeLine{00051\ \ \ \ \ \};}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_u_a_r_t_core_aa4f8aee7f125854186d5a451324f5fb8}{install}}(\textcolor{keywordtype}{int}\ uart\_num,\ uint8\_t\ tx\_pin,\ uint8\_t\ rx\_pin,\ uint16\_t\ bufferSize)\ =\ 0;\ \textcolor{comment}{//Prepare\ the\ driver\ and\ allocate\ memory}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_u_a_r_t_core_aeaf04f4297b48fdaee839a2ff9fb4ad4}{reset}}()\textcolor{keyword}{\ override}\{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_debug_8h_a8e30ff0704664fcb13dabf0c4dc5c8f5}{DEBUG\_PRINTLN}}(\textcolor{stringliteral}{"{}[UARTCore]\ Resetting\ UARTCore"{}});}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_hardware_resource_a7372684f2afb5139ef8464194a087649}{HardwareResource::reset}}();}
\DoxyCodeLine{00074\ \ \ \ \ \};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_u_a_r_t_core_a4313ac566018e2da28caa76bd8f35bcb}{config}}(uint32\_t\ baudrate,\ \mbox{\hyperlink{class_u_a_r_t_core_a1895842f7c33678bdf154e12cc617903}{DataBits}}\ dataBits,\ \mbox{\hyperlink{class_u_a_r_t_core_a53addcd39a841913c86bd7e25cca94a0}{Parity}}\ parity,\ \mbox{\hyperlink{class_u_a_r_t_core_ab88ed673e8897a7804c27ac7d749f00b}{StopBits}}\ stopBits)\{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_debug_8h_a8e30ff0704664fcb13dabf0c4dc5c8f5}{DEBUG\_PRINTLN}}(\textcolor{stringliteral}{"{}[UARTCore]\ Configuring\ UARTCore"{}});}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \_baudrate\ =\ baudrate;}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \_dataBits\ =\ dataBits;}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \_parity\ =\ parity;}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \_stopBits\ =\ stopBits;}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00092\ \ \ \ \ \};}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ setBaudrate(uint32\_t\ baudrate)\{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \_baudrate\ =\ baudrate;}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00096\ \ \ \ \ \};}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ setDataBits(\mbox{\hyperlink{class_u_a_r_t_core_a1895842f7c33678bdf154e12cc617903}{DataBits}}\ dataBits)\{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \_dataBits\ =\ dataBits;}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00100\ \ \ \ \ \};}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ setParity(\mbox{\hyperlink{class_u_a_r_t_core_a53addcd39a841913c86bd7e25cca94a0}{Parity}}\ parity)\{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \_parity\ =\ parity;}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00104\ \ \ \ \ \};\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ setStopBits(\mbox{\hyperlink{class_u_a_r_t_core_ab88ed673e8897a7804c27ac7d749f00b}{StopBits}}\ stopBits)\{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \_stopBits\ =\ stopBits;}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00108\ \ \ \ \ \};}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_u_a_r_t_core_a7119ad4a93b3f7895a1be10623cf35a3}{send}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ buffer[],\ \textcolor{keywordtype}{size\_t}\ size)\{\mbox{\hyperlink{_debug_8h_a8e30ff0704664fcb13dabf0c4dc5c8f5}{DEBUG\_PRINTLN}}(\textcolor{stringliteral}{"{}[UARTCore]\ Send"{}});\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\};}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_u_a_r_t_core_a09060493e91d608fb209d8c09675fabe}{read}}(\textcolor{keywordtype}{char}\ buffer[])\{\mbox{\hyperlink{_debug_8h_a8e30ff0704664fcb13dabf0c4dc5c8f5}{DEBUG\_PRINTLN}}(\textcolor{stringliteral}{"{}[UARTCore]\ Read"{}});\ \textcolor{keywordflow}{return}\ 0;\};}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_u_a_r_t_core_ace871307d31091740402a97b42eb86ef}{available}}()=0;}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_u_a_r_t_core_a6c0643b7fc686ab2ef773a86b4e1cc8e}{flush}}()=0;}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00147\ \ \ \ \ \mbox{\hyperlink{class_hardware_resource_adead6978be3d7b86c18e3d3e051381e6}{HardwareResource::Type}}\ \mbox{\hyperlink{class_u_a_r_t_core_af2aad4efeda3999a508c721e8f2ce46e}{getType}}()\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_hardware_resource_adead6978be3d7b86c18e3d3e051381e6ac6f39e4a2dbc764df53048f26209f0a1}{Type::UART}};\ \}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ setPins(uint8\_t\ tx\_pin,\ uint8\_t\ rx\_pin)\{}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \_txPin\ =\ tx\_pin;}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \_rxPin\ =\ rx\_pin;}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ pinsConfigured\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00154\ \ \ \ \ \}}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{comment}{//Hardware}}
\DoxyCodeLine{00159\ \ \ \ \ int8\_t\ \_rxPin=\ DEFAULT\_REF;}
\DoxyCodeLine{00160\ \ \ \ \ int8\_t\ \_txPin=\ DEFAULT\_REF;}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordtype}{bool}\ pinsConfigured\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{comment}{//Logic}}
\DoxyCodeLine{00163\ \ \ \ \ uint32\_t\ \_baudrate\ =\ 0;}
\DoxyCodeLine{00164\ \ \ \ \ \mbox{\hyperlink{class_u_a_r_t_core_ab88ed673e8897a7804c27ac7d749f00b}{StopBits}}\ \_stopBits\ =\ UART\_STOP\_BITS\_1;}
\DoxyCodeLine{00165\ \ \ \ \ \mbox{\hyperlink{class_u_a_r_t_core_a53addcd39a841913c86bd7e25cca94a0}{Parity}}\ \_parity\ =\ UART\_PARITY\_NONE;}
\DoxyCodeLine{00166\ \ \ \ \ \mbox{\hyperlink{class_u_a_r_t_core_a1895842f7c33678bdf154e12cc617903}{DataBits}}\ \_dataBits\ =\ UART\_DATA\_8\_BITS;}
\DoxyCodeLine{00167\ \ \ \ \ }
\DoxyCodeLine{00168\ \};}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00175\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_u_a_r_t_provider}{UARTProvider}}\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_u_a_r_t_core}{UARTCore}}*\ \mbox{\hyperlink{class_u_a_r_t_provider_a8122e23379ae91a0b7df45006772d84a}{getUartCore}}()=0;}
\DoxyCodeLine{00184\ \};}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
