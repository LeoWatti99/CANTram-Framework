\doxysection{Main\+Module\+V1\+\_\+0.\+h}
\hypertarget{_main_module_v1__0_8h_source}{}\label{_main_module_v1__0_8h_source}\index{C:/Users/leowa/Documents/PlatformIO/Projects/CANTramFrameworkUsage/lib/CANTramFramework/include/MainModuleV1\_0.h@{C:/Users/leowa/Documents/PlatformIO/Projects/CANTramFrameworkUsage/lib/CANTramFramework/include/MainModuleV1\_0.h}}
\mbox{\hyperlink{_main_module_v1__0_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#ifndef\ MAINMODULEV1\_0\_H}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#define\ MAINMODULEV1\_0\_H}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <Arduino.h>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_c_a_n_tram_module_8h}{CANTramModule.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_c_a_n_tram_core_8h}{CANTramCore.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_p_w_m_core_8h}{PWMCore.h}}>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}ESP32PWMCore.h"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_output_definition_8h}{OutputDefinition.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_debug_8h}{Debug.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}ESP32\_UART.h"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}UARTInterface.h"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_hardware_resource_8h}{HardwareResource.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}driver/adc.h"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}soc/adc\_channel.h"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}esp\_adc\_cal.h"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}Adafruit\_MCP23X17.h"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_e_s_p32___c_a_n_core_8h}{ESP32\_CANCore.h}}"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_c_a_n_interface_8h}{CANInterface.h}}"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}ESP32\_I2CCore.h"{}}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_main_module_v1__0_ae4c594554ec3fa52e3609c3e7b2352a5}{MainModuleV1\_0}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_c_a_n_tram_module_ae1c9554adb901b7e798a44d521781c0b}{CANTramModule}},\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_p_w_m_output_provider}{PWMOutputProvider}},\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_u_a_r_t_provider}{UARTProvider}}\ \{}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00034\ \ \ \ \ \mbox{\hyperlink{class_main_module_v1__0_ae4c594554ec3fa52e3609c3e7b2352a5}{MainModuleV1\_0}}();}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ String\ HW\_TYPE;}
\DoxyCodeLine{00036\ \ \ \ \ String\ \mbox{\hyperlink{class_main_module_v1__0_aa9412fc0abc8f621580ab2bead087696}{getHWType}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ HW\_TYPE;\ \}}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ String\ HW\_VERSION;}
\DoxyCodeLine{00038\ \ \ \ \ String\ \mbox{\hyperlink{class_main_module_v1__0_aa2cbb581d4fe04640109f0b6ecb0042a}{getHWVersion}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ HW\_VERSION;\ \}}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ String\ FW\_VERSION;}
\DoxyCodeLine{00040\ \ \ \ \ String\ \mbox{\hyperlink{class_main_module_v1__0_a87ce54b0fb2bbd67622e48024dc17b9e}{getFWVersion}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ FW\_VERSION;\ \}}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint8\_t\ GPIO\_DEMAND\ =\ 0;}
\DoxyCodeLine{00042\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{class_main_module_v1__0_a501133cf4a307fc25acaf0b6f79dcebc}{getGPIODemand}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ GPIO\_DEMAND;\ \}}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint8\_t\ GPIO\_SUPPLY\ =\ 25;}
\DoxyCodeLine{00044\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{class_main_module_v1__0_a716b45f8a875e8c156aa04ad17275605}{getGPIOSupply}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ GPIO\_SUPPLY;\ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{comment}{//\ OutputProvider\ interface}}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_a9226f26c18a54a0361585d2c82465027}{configureOutput}}(\mbox{\hyperlink{class_output_definition}{OutputDefinition}}*\ def,\ OutputDefinition::ConfigurationMode\ mode)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_a9226f26c18a54a0361585d2c82465027}{configureOutput}}(\mbox{\hyperlink{class_output_definition}{OutputDefinition}}*\ def);}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_ad4923691de74feb70e8f7453841c8be8}{setOutput}}(\mbox{\hyperlink{class_output_definition}{OutputDefinition}}*\ def,\ \textcolor{keywordtype}{bool}\ state)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_a82d0bff36999c3f85acc5f16dd8e0bfb}{getOutput}}(\mbox{\hyperlink{class_output_definition}{OutputDefinition}}*\ def)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{comment}{//Shift\ register\ Pins}}
\DoxyCodeLine{00053\ \ \ \ \ Adafruit\_MCP23X17\ shiftRegister;}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{comment}{//Chip\ IC7}}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_0\ =\ 0;}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_1\ =\ 1;}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_2\ =\ 2;}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_3\ =\ 3;}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_4\ =\ 4;}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_5\ =\ 5;}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_6\ =\ 6;}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_7\ =\ 7;}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_8\ =\ 8;}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_9\ =\ 9;}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_10\ =\ 10;}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_11\ =\ 11;}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_12\ =\ 12;}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_13\ =\ 13;}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_14\ =\ 14;}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SR\_PIN\_15\ =\ 15;}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}\ EXTEND[GPIO\_SUPPLY]\ =\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ isShift,\ pinOrBit,\ adc,\ pwm,\ inputOnly,\ this,\ LOW}}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{false},\ UART\_RX,\ \textcolor{keyword}{false},\ \textcolor{keyword}{true},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \textcolor{comment}{//\ 0}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{false},\ UART\_TX,\ \textcolor{keyword}{false},\ \textcolor{keyword}{true},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \textcolor{comment}{//\ 1}}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{false},\ GPIO\_NUM\_32,\ \textcolor{keyword}{false},\ \textcolor{keyword}{true},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \textcolor{comment}{//\ 2}}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{false},\ GPIO\_NUM\_15,\ \textcolor{keyword}{false},\ \textcolor{keyword}{true},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \textcolor{comment}{//\ 3}}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{false},\ GPIO\_NUM\_33,\ \textcolor{keyword}{false},\ \textcolor{keyword}{true},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \textcolor{comment}{//\ 4}}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{false},\ GPIO\_NUM\_2,\ \textcolor{keyword}{false},\ \textcolor{keyword}{true},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \textcolor{comment}{//\ 5}}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{false},\ GPIO\_NUM\_25,\ \textcolor{keyword}{false},\ \textcolor{keyword}{true},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \textcolor{comment}{//\ 6}}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{false},\ GPIO\_NUM\_0,\ \textcolor{keyword}{false},\ \textcolor{keyword}{true},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \textcolor{comment}{//\ 7}}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{false},\ GPIO\_NUM\_26,\ \textcolor{keyword}{false},\ \textcolor{keyword}{true},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \textcolor{comment}{//\ 8}}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{false},\ GPIO\_NUM\_4,\ \textcolor{keyword}{false},\ \textcolor{keyword}{true},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \textcolor{comment}{//\ 9}}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{false},\ GPIO\_NUM\_27,\ \textcolor{keyword}{false},\ \textcolor{keyword}{true},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \textcolor{comment}{//\ 10}}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{false},\ GPIO\_NUM\_5,\ \textcolor{keyword}{false},\ \textcolor{keyword}{true},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \textcolor{comment}{//\ 11}}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{true},\ SR\_PIN\_15,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \textcolor{comment}{//\ 12}}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{true},\ SR\_PIN\_2,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \ \ \textcolor{comment}{//\ 13}}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{true},\ SR\_PIN\_14,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \ \ \ \textcolor{comment}{//\ 14}}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{true},\ SR\_PIN\_3,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \ \ \textcolor{comment}{//\ 15}}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{true},\ SR\_PIN\_13,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \ \ \ \textcolor{comment}{//\ 16}}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{true},\ SR\_PIN\_4,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \ \ \textcolor{comment}{//\ 17}}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{true},\ SR\_PIN\_12,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \ \ \ \textcolor{comment}{//\ 18}}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{true},\ SR\_PIN\_5,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \ \ \textcolor{comment}{//\ 19}}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{true},\ SR\_PIN\_11,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \ \ \ \textcolor{comment}{//\ 20}}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{true},\ SR\_PIN\_6,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \ \ \textcolor{comment}{//\ 21}}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{true},\ SR\_PIN\_10,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \ \ \ \textcolor{comment}{//\ 22}}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{true},\ SR\_PIN\_7,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this}),\ \ \ \ \ \ \ \textcolor{comment}{//\ 23}}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_output_definition}{OutputDefinition}}(\textcolor{keyword}{true},\ SR\_PIN\_9,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{this})\ \ \ \ \ \ \ \textcolor{comment}{//\ 24}}
\DoxyCodeLine{00099\ \ \ \ \ \};}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \textcolor{comment}{//\ Temperatur\ Pin}}
\DoxyCodeLine{00102\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ TEMP\_PIN\ =\ GPIO\_NUM\_35;\ \textcolor{comment}{//using\ ADC1\ on\ ESP32}}
\DoxyCodeLine{00103\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ adc1\_channel\_t\ TEMP\_ADC\_CHANNEL\ =\ ADC1\_GPIO35\_CHANNEL;\ \textcolor{comment}{//\ GPIO35\ is\ ADC1\_CHANNEL\_7}}
\DoxyCodeLine{00104\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint16\_t\ TEMP\_RES\_1\ =\ 6200;\ \textcolor{comment}{//\ Resistance\ at\ 25\ degrees\ Celsius}}
\DoxyCodeLine{00105\ \textcolor{preprocessor}{\#ifdef\ MAINMODULE\_TEMPERATURE\_PROTOTYPE\_BOARD\ \ }\textcolor{comment}{//Use\ This\ buildflag,\ if\ you\ are\ using\ the\ temperaturesensor\ prototype\ board\ for\ testing}}
\DoxyCodeLine{00106\ \textcolor{preprocessor}{\#warning\ "{}Using\ temperature\ prototype\ board\ settings.\ This\ will\ result\ in\ wrong\ temperatures\ if\ you\ are\ using\ the\ mainmodule\ board."{}}}
\DoxyCodeLine{00107\ \textcolor{preprocessor}{\#warning\ "{}Make\ sure\ to\ clear\ the\ buildflag\ MAINMODULE\_TEMPERATURE\_PROTOTYPE\_BOARD\ buildflag\ for\ production\ builds."{}}}
\DoxyCodeLine{00108\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint16\_t\ TEMP\_RES\_2\ =\ 12000;\ \textcolor{comment}{//\ Resistance\ at\ 25\ degrees\ Celsius}}
\DoxyCodeLine{00109\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00110\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint16\_t\ TEMP\_RES\_2\ =\ 6200;\ \textcolor{comment}{//\ Resistance\ at\ 25\ degrees\ Celsius}}
\DoxyCodeLine{00111\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00112\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ TEMP\_FAKTOR\ =\ float(TEMP\_RES\_2)/float(TEMP\_RES\_1\ +\ TEMP\_RES\_2);\ \textcolor{comment}{//Faktor\ for\ voltage\ divider}}
\DoxyCodeLine{00113\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ TEMP\_SUPPLY\_VOLTAGE\ =\ 5000.0;\ \textcolor{comment}{//\ in\ millivolts}}
\DoxyCodeLine{00114\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint8\_t\ TEMP\_MULTISAMPLE\ =\ 16;\ \textcolor{comment}{//Number\ of\ samples\ to\ average}}
\DoxyCodeLine{00115\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint16\_t\ ADC\_MAX\_VOLTAGE\ =\ 2450;\ \textcolor{comment}{//in\ millivolts}}
\DoxyCodeLine{00116\ esp\_adc\_cal\_characteristics\_t\ adc1\_chars;}
\DoxyCodeLine{00117\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint16\_t\ ADC\_DEFAULT\_VREF\ =\ 1100;}
\DoxyCodeLine{00118\ \textcolor{keywordtype}{bool}\ adc\_calibrated;}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \textcolor{comment}{//\ CAN\ Pins}}
\DoxyCodeLine{00122\ ESP32\_CANCore\ canCore;}
\DoxyCodeLine{00123\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ CAN\_TX\ =\ GPIO\_NUM\_17;}
\DoxyCodeLine{00124\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ CAN\_RX\ =\ GPIO\_NUM\_16;}
\DoxyCodeLine{00125\ CANInterface\ canInterface;}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \textcolor{comment}{//\ SPI\ Pins}}
\DoxyCodeLine{00128\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SPI\_COPI\ =\ GPIO\_NUM\_21;}
\DoxyCodeLine{00129\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SPI\_CIPO\ =\ GPIO\_NUM\_18;}
\DoxyCodeLine{00130\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ SPI\_SCK\ =\ GPIO\_NUM\_22;}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \textcolor{comment}{//\ I2C\ Pins}}
\DoxyCodeLine{00133\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ I2C\_SDA\ =\ GPIO\_NUM\_13;}
\DoxyCodeLine{00134\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ I2C\_SCL\ =\ GPIO\_NUM\_14;}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \textcolor{comment}{//\ UART\ Pins}}
\DoxyCodeLine{00137\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ UART\_TX\ =\ GPIO\_NUM\_19;}
\DoxyCodeLine{00138\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ UART\_RX\ =\ GPIO\_NUM\_23;}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \textcolor{comment}{//\ INT\ Pin}}
\DoxyCodeLine{00141\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ INT\_PIN\ =\ GPIO\_NUM\_34;}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \textcolor{comment}{//Enable\ Pin\ }}
\DoxyCodeLine{00144\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ GENERAL\_EN\ =\ SR\_PIN\_8;\ }
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \textcolor{comment}{//LEDs}}
\DoxyCodeLine{00147\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ LED\_WARNING\ =\ SR\_PIN\_0;}
\DoxyCodeLine{00148\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ LED\_ERROR\ =\ SR\_PIN\_1;}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \textcolor{comment}{//public\ funtions}}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_a25ea3d52611cb89711973e8c068bbbfc}{reset}}()\textcolor{keyword}{override};}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_a54175254ab9745989cc21d00f490297a}{attachModule}}(uint8\_t\ slot,uint8\_t\ gpioStart)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_a85406338313930631d9da73cf9248a8c}{provideGPIOs}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_a0e0d8a91bc062d1b9bd6c77335ec9e95}{requestGPIOs}}()\ \textcolor{keyword}{override};\ }
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_aa67512e4c9fda1474b76868708383778}{provideHardwareResources}}()\ \textcolor{keyword}{override};\ }
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_a40ad97aab74f5d8f08e11456036f835c}{requestHardwareResources}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_a7d462f2505c3a1f632db53f4e69bd6ee}{addInterfaces}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_a2917d9056213cc8633b13f91722be603}{preInitialize}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_a1b5ee0f095998b264fa3424e0dd9cdc5}{initialize}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_main_module_v1__0_a234ec79c84887148260311c5d020105e}{enableOutputs}}(\textcolor{keywordtype}{bool}\ state)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ uint16\_t\ \mbox{\hyperlink{class_main_module_v1__0_a94e360604a317f98717ae1aaede31061}{getTemperatureCelsius}}();}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_main_module_v1__0_a37be53a3ecbf9864791b17facd5f2169}{cycle}}(uint8\_t*\ response)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_interface}{Interface}}**\ \mbox{\hyperlink{class_main_module_v1__0_ab58fe7ec532bc345ccaa8139ee29ac38}{getInterfaces}}()\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ \_interfaces;\ \}}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_main_module_v1__0_a58582a6adfe8c35b7bf6d17d683a6fa4}{getInterfaceCount}}()\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ INTERFACE\_COUNT;\ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_aa8524c0099c7dd70e7e448925c6cf7ee}{setPWM}}(\mbox{\hyperlink{class_output_definition}{OutputDefinition}}*\ def,\ uint16\_t\ value)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_main_module_v1__0_a207a1463f359ca72de29492a6c844610}{registerPWMChannel}}(\mbox{\hyperlink{class_output_definition}{OutputDefinition}}*\ def)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ INTERFACE\_COUNT\ =\ 1;\ \textcolor{comment}{//\ Number\ of\ interfaces\ in\ the\ array}}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_interface}{Interface}}*\ \_interfaces[INTERFACE\_COUNT];\ \textcolor{comment}{//\ representation\ of\ the\ physical\ interfaces\ clamps}}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_e_s_p32_p_w_m_core}{ESP32PWMCore}}\ \_pwmCore;}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_e_s_p32___u_a_r_t}{ESP32\_UART}}\ uart;}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_e_s_p32___i2_c_core}{ESP32\_I2CCore}}\ i2cCore;}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint8\_t\ UART\_NUM\ =\ UART\_NUM\_1;}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint16\_t\ UART\_BUFFER\_SIZE\ =\ 1024;}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ startShiftRegister();}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ resetShiftRegister();}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \textcolor{keyword}{enum}\ ShiftRegistertStatus\{}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ NOT\_STARTED,}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ STARTED,}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ FAILED}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint8\_t\ SHIFTREGISTER\_I2C\_ADDRESS\ =\ 0b100111;}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint32\_t\ SHIFTREGISTER\_I2C\_FREQUENCY\ =\ 400000;\ \textcolor{comment}{//400\ kHz\ allowed\ frequency\ for\ MCP23X17}}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ ShiftRegistertStatus\ \_shiftregisterStatus\ =\ NOT\_STARTED;}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_u_a_r_t_core}{UARTCore}}*\ \mbox{\hyperlink{class_main_module_v1__0_ae9cbfdbe65306397b01de0a43f7fde6f}{getUartCore}}()\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ \&uart;\ \}}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00203\ \};\ \ }
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00207\ }

\end{DoxyCode}
